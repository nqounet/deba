[tools]
node = "22"

[tasks.build]
description = "TypeScript のビルドを実行します"
run = ["npm install", "npm run build"]

[tasks.test]
description = "テストを実行します"
run = "npm test"

[tasks.setup]
description = "deba コマンドをグローバルにインストールし、他のディレクトリから使えるようにします"
depends = ["build"]
run = ["npm link", "deba install"]

[tasks.push]
description = "バージョンを上げ（patch）、タグを付けてリモートにプッシュします"
run = [
  "npm version patch -m \"chore: release v%s\"",
  "git push origin main --tags",
]
